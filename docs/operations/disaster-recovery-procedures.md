# ç½å®³å¾©æ—§æ‰‹é †æ›¸

## ğŸ“‹ æ¦‚è¦

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Permission-aware RAG System with FSx for NetApp ONTAPã®ç½å®³å¾©æ—§æ‰‹é †ã‚’å®šç¾©ã—ã¾ã™ã€‚ä¸»ã«æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆap-northeast-1ï¼‰ã‹ã‚‰å¤§é˜ªãƒªãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆap-northeast-3ï¼‰ã¸ã®ç½å®³å¾©æ—§ã‚’å¯¾è±¡ã¨ã—ã¦ã„ã¾ã™ã€‚

## ğŸ¯ ç½å®³å¾©æ—§ç›®æ¨™

### RTO/RPOç›®æ¨™
- **RTO (Recovery Time Objective)**: 4æ™‚é–“ä»¥å†…
- **RPO (Recovery Point Objective)**: 1æ™‚é–“ä»¥å†…
- **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§**: 99.99%ä»¥ä¸Š
- **ã‚µãƒ¼ãƒ“ã‚¹å¾©æ—§ç‡**: 95%ä»¥ä¸Šï¼ˆ4æ™‚é–“ä»¥å†…ï¼‰

### ç½å®³ãƒ¬ãƒ™ãƒ«å®šç¾©

#### ãƒ¬ãƒ™ãƒ«1: éƒ¨åˆ†çš„éšœå®³
- **å®šç¾©**: å˜ä¸€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®éšœå®³
- **å½±éŸ¿**: ã‚µãƒ¼ãƒ“ã‚¹ã®ä¸€éƒ¨æ©Ÿèƒ½ã«å½±éŸ¿
- **å¯¾å¿œ**: è‡ªå‹•å¾©æ—§ã€å†—é•·åŒ–ã«ã‚ˆã‚‹ç¶™ç¶šé‹ç”¨
- **RTO**: 30åˆ†ä»¥å†…

#### ãƒ¬ãƒ™ãƒ«2: é‡å¤§éšœå®³
- **å®šç¾©**: è¤‡æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®éšœå®³
- **å½±éŸ¿**: ã‚µãƒ¼ãƒ“ã‚¹å…¨ä½“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–
- **å¯¾å¿œ**: æ‰‹å‹•ä»‹å…¥ã€éƒ¨åˆ†çš„ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼
- **RTO**: 2æ™‚é–“ä»¥å†…

#### ãƒ¬ãƒ™ãƒ«3: å®Œå…¨ç½å®³
- **å®šç¾©**: ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å…¨ä½“ã®åˆ©ç”¨ä¸å¯
- **å½±éŸ¿**: ã‚µãƒ¼ãƒ“ã‚¹å®Œå…¨åœæ­¢
- **å¯¾å¿œ**: å®Œå…¨ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼
- **RTO**: 4æ™‚é–“ä»¥å†…

## ğŸ—ï¸ ç½å®³å¾©æ—§ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ§‹æˆ

```
æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (ap-northeast-1)          å¤§é˜ªãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (ap-northeast-3)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ           â”‚         â”‚      ç½å®³å¾©æ—§ã‚·ã‚¹ãƒ†ãƒ          â”‚
â”‚                            â”‚         â”‚                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚      DynamoDB          â”‚ â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚    DynamoDB (Replica)   â”‚ â”‚
â”‚ â”‚   (Global Tables)      â”‚ â”‚         â”‚ â”‚                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                            â”‚         â”‚                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   FSx for NetApp       â”‚ â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚   FSx for NetApp       â”‚ â”‚
â”‚ â”‚   (SnapMirror)         â”‚ â”‚         â”‚ â”‚   (SnapMirror Target)  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                            â”‚         â”‚                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   OpenSearch           â”‚ â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚   OpenSearch           â”‚ â”‚
â”‚ â”‚   (Cross-Region)       â”‚ â”‚         â”‚ â”‚   (Cross-Region)       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                            â”‚         â”‚                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚        S3              â”‚ â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚    S3 (CRR)            â”‚ â”‚
â”‚ â”‚ (Cross-Region Repl.)   â”‚ â”‚         â”‚ â”‚                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Route 53 Health Check                    â”‚
â”‚              (ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãƒ»DNSåˆ‡ã‚Šæ›¿ãˆ)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     Lambda Orchestrator    â”‚
        â”‚    (ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼åˆ¶å¾¡)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 â”‚                 â”‚
    â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SNS   â”‚    â”‚ Step Functions â”‚    â”‚ CloudWatch  â”‚
â”‚ (é€šçŸ¥)   â”‚    â”‚  (ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼)  â”‚    â”‚  (ç›£è¦–)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš¨ ç½å®³æ¤œçŸ¥ãƒ»åˆ¤å®š

### è‡ªå‹•ç½å®³æ¤œçŸ¥

#### ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯é …ç›®
```bash
# ã‚·ã‚¹ãƒ†ãƒ ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
npm run disaster-recovery:health-check

# å€‹åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒã‚§ãƒƒã‚¯
npm run disaster-recovery:component-check -- --component dynamodb
npm run disaster-recovery:component-check -- --component lambda
npm run disaster-recovery:component-check -- --component fsx
npm run disaster-recovery:component-check -- --component opensearch
```

#### ç½å®³åˆ¤å®šåŸºæº–

**ãƒ¬ãƒ™ãƒ«1åˆ¤å®šåŸºæº–**:
- å˜ä¸€Lambdaé–¢æ•°ã®é€£ç¶šå¤±æ•—ï¼ˆ5åˆ†é–“ï¼‰
- DynamoDBãƒ†ãƒ¼ãƒ–ãƒ«ã®èª­ã¿æ›¸ãã‚¨ãƒ©ãƒ¼ç‡ > 10%
- FSxãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®å¿œç­”æ™‚é–“ > 10ç§’

**ãƒ¬ãƒ™ãƒ«2åˆ¤å®šåŸºæº–**:
- è¤‡æ•°Lambdaé–¢æ•°ã®åŒæ™‚å¤±æ•—
- DynamoDBãƒ†ãƒ¼ãƒ–ãƒ«ã®å®Œå…¨ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ï¼ˆ5åˆ†é–“ï¼‰
- OpenSearchã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®å¿œç­”ä¸å¯ï¼ˆ10åˆ†é–“ï¼‰
- API Gatewayã®5xxã‚¨ãƒ©ãƒ¼ç‡ > 50%

**ãƒ¬ãƒ™ãƒ«3åˆ¤å®šåŸºæº–**:
- ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å…¨ä½“ã®AWSã‚µãƒ¼ãƒ“ã‚¹éšœå®³
- è¤‡æ•°ã®AZã§ã®åŒæ™‚éšœå®³
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã®å®Œå…¨æ–­çµ¶ï¼ˆ15åˆ†é–“ï¼‰

### æ‰‹å‹•ç½å®³åˆ¤å®š

#### ç½å®³å®£è¨€æ‰‹é †
```bash
# 1. ç¾çŠ¶è©•ä¾¡
npm run disaster-recovery:assess-situation

# 2. ç½å®³ãƒ¬ãƒ™ãƒ«åˆ¤å®š
npm run disaster-recovery:declare-disaster -- --level [1|2|3] --reason "ç½å®³ç†ç”±"

# 3. é–¢ä¿‚è€…é€šçŸ¥
npm run disaster-recovery:notify-stakeholders -- --level [1|2|3]

# 4. å¾©æ—§è¨ˆç”»ç¢ºèª
npm run disaster-recovery:show-recovery-plan -- --level [1|2|3]
```

## ğŸ”„ ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼æ‰‹é †

### ãƒ¬ãƒ™ãƒ«1: éƒ¨åˆ†çš„ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼

#### Lambdaé–¢æ•°ã®å€‹åˆ¥å¾©æ—§
```bash
# 1. å•é¡Œã®ã‚ã‚‹Lambdaé–¢æ•°ç‰¹å®š
npm run disaster-recovery:identify-failed-functions

# 2. é–¢æ•°ã®å†ãƒ‡ãƒ—ãƒ­ã‚¤
npm run disaster-recovery:redeploy-function -- --function-name [FUNCTION_NAME]

# 3. é–¢æ•°ã®å‹•ä½œç¢ºèª
npm run disaster-recovery:test-function -- --function-name [FUNCTION_NAME]

# 4. ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯å¾©æ—§
npm run disaster-recovery:restore-traffic -- --function-name [FUNCTION_NAME]
```

#### DynamoDBãƒ†ãƒ¼ãƒ–ãƒ«ã®éƒ¨åˆ†å¾©æ—§
```bash
# 1. ãƒ†ãƒ¼ãƒ–ãƒ«çŠ¶æ…‹ç¢ºèª
aws dynamodb describe-table --table-name [TABLE_NAME] --region ap-northeast-1

# 2. èª­ã¿å–ã‚Š/æ›¸ãè¾¼ã¿å®¹é‡èª¿æ•´
npm run disaster-recovery:adjust-dynamodb-capacity -- --table [TABLE_NAME] --read-capacity 1000 --write-capacity 1000

# 3. Global Tablesã®åŒæœŸç¢ºèª
npm run disaster-recovery:check-global-tables-sync -- --table [TABLE_NAME]
```

### ãƒ¬ãƒ™ãƒ«2: é‡å¤§éšœå®³å¯¾å¿œ

#### éƒ¨åˆ†çš„ã‚µãƒ¼ãƒ“ã‚¹åˆ‡ã‚Šæ›¿ãˆ
```bash
# 1. å½±éŸ¿ç¯„å›²ç¢ºèª
npm run disaster-recovery:assess-impact -- --level 2

# 2. é‡è¦ã‚µãƒ¼ãƒ“ã‚¹ã®å„ªå…ˆå¾©æ—§
npm run disaster-recovery:prioritize-services

# 3. éƒ¨åˆ†çš„ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯åˆ‡ã‚Šæ›¿ãˆ
npm run disaster-recovery:partial-failover -- --services "api,search" --target ap-northeast-3

# 4. ã‚µãƒ¼ãƒ“ã‚¹å‹•ä½œç¢ºèª
npm run disaster-recovery:verify-partial-failover
```

### ãƒ¬ãƒ™ãƒ«3: å®Œå…¨ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼

#### å®Œå…¨ç½å®³å¾©æ—§æ‰‹é †

**Phase 1: ç·Šæ€¥å¯¾å¿œï¼ˆ0-30åˆ†ï¼‰**
```bash
# 1. ç½å®³å®£è¨€ãƒ»é€šçŸ¥
npm run disaster-recovery:declare-disaster -- --level 3 --reason "Tokyo region complete outage"

# 2. è‡ªå‹•ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼çŠ¶æ…‹ç¢ºèª
npm run disaster-recovery:check-auto-failover-status

# 3. æ‰‹å‹•ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼é–‹å§‹ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
npm run disaster-recovery:initiate-manual-failover -- --target ap-northeast-3
```

**Phase 2: ã‚µãƒ¼ãƒ“ã‚¹å¾©æ—§ï¼ˆ30åˆ†-2æ™‚é–“ï¼‰**
```bash
# 4. å¤§é˜ªãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
npm run disaster-recovery:activate-osaka-services

# 5. DNSåˆ‡ã‚Šæ›¿ãˆå®Ÿè¡Œ
npm run disaster-recovery:switch-dns -- --target ap-northeast-3

# 6. ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼è¨­å®šæ›´æ–°
npm run disaster-recovery:update-load-balancer -- --target ap-northeast-3

# 7. ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèª
npm run disaster-recovery:verify-data-consistency
```

**Phase 3: å‹•ä½œç¢ºèªï¼ˆ2-4æ™‚é–“ï¼‰**
```bash
# 8. ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run disaster-recovery:end-to-end-test -- --region ap-northeast-3

# 9. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run disaster-recovery:performance-test -- --region ap-northeast-3

# 10. ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥ãƒ»ã‚µãƒ¼ãƒ“ã‚¹å†é–‹å®£è¨€
npm run disaster-recovery:announce-service-restoration
```

## ğŸ“Š å¾©æ—§æ¤œè¨¼ãƒ»ãƒ†ã‚¹ãƒˆ

### å¾©æ—§å¾Œæ¤œè¨¼é …ç›®

#### æ©Ÿèƒ½æ¤œè¨¼
```bash
# 1. åŸºæœ¬æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
npm run disaster-recovery:basic-function-test

# 2. RAGæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
npm run disaster-recovery:rag-function-test

# 3. èªè¨¼ãƒ»èªå¯ãƒ†ã‚¹ãƒˆ
npm run disaster-recovery:auth-test

# 4. ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ
npm run disaster-recovery:data-access-test
```

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¤œè¨¼
```bash
# 1. ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“æ¸¬å®š
npm run disaster-recovery:response-time-test

# 2. ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆæ¸¬å®š
npm run disaster-recovery:throughput-test

# 3. åŒæ™‚æ¥ç¶šæ•°ãƒ†ã‚¹ãƒˆ
npm run disaster-recovery:concurrent-user-test

# 4. è² è·ãƒ†ã‚¹ãƒˆ
npm run disaster-recovery:load-test -- --users 1000 --duration 300
```

#### ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§æ¤œè¨¼
```bash
# 1. DynamoDBãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèª
npm run disaster-recovery:verify-dynamodb-consistency

# 2. FSxãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèª
npm run disaster-recovery:verify-fsx-consistency

# 3. OpenSearchã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ•´åˆæ€§ç¢ºèª
npm run disaster-recovery:verify-opensearch-consistency

# 4. S3ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèª
npm run disaster-recovery:verify-s3-consistency
```

### æœˆæ¬¡ç½å®³å¾©æ—§ãƒ†ã‚¹ãƒˆ

#### ãƒ†ã‚¹ãƒˆè¨ˆç”»
```bash
# 1. æœˆæ¬¡ãƒ†ã‚¹ãƒˆè¨ˆç”»ç”Ÿæˆ
npm run disaster-recovery:generate-monthly-test-plan

# 2. ãƒ†ã‚¹ãƒˆç’°å¢ƒæº–å‚™
npm run disaster-recovery:prepare-test-environment

# 3. æ¨¡æ“¬ç½å®³å®Ÿè¡Œ
npm run disaster-recovery:simulate-disaster -- --type partial --duration 30

# 4. ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run disaster-recovery:execute-failover-test

# 5. å¾©æ—§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run disaster-recovery:execute-recovery-test

# 6. ãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
npm run disaster-recovery:generate-test-report
```

## ğŸ”™ ãƒ•ã‚§ã‚¤ãƒ«ãƒãƒƒã‚¯æ‰‹é †

### æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å¾©æ—§å¾Œã®æ‰‹é †

#### Phase 1: å¾©æ—§æº–å‚™ï¼ˆ0-1æ™‚é–“ï¼‰
```bash
# 1. æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³çŠ¶æ…‹ç¢ºèª
npm run disaster-recovery:verify-tokyo-recovery

# 2. ãƒ‡ãƒ¼ã‚¿åŒæœŸçŠ¶æ…‹ç¢ºèª
npm run disaster-recovery:check-data-sync-status

# 3. ãƒ•ã‚§ã‚¤ãƒ«ãƒãƒƒã‚¯è¨ˆç”»ç¢ºèª
npm run disaster-recovery:review-failback-plan
```

#### Phase 2: ãƒ‡ãƒ¼ã‚¿åŒæœŸï¼ˆ1-2æ™‚é–“ï¼‰
```bash
# 4. å¤§é˜ªâ†’æ±äº¬ãƒ‡ãƒ¼ã‚¿åŒæœŸé–‹å§‹
npm run disaster-recovery:start-failback-sync -- --source ap-northeast-3 --target ap-northeast-1

# 5. åŒæœŸé€²æ—ç›£è¦–
npm run disaster-recovery:monitor-sync-progress

# 6. ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèª
npm run disaster-recovery:verify-failback-consistency
```

#### Phase 3: ã‚µãƒ¼ãƒ“ã‚¹åˆ‡ã‚Šæ›¿ãˆï¼ˆ2-3æ™‚é–“ï¼‰
```bash
# 7. æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹æº–å‚™
npm run disaster-recovery:prepare-tokyo-services

# 8. æ®µéšçš„ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯åˆ‡ã‚Šæ›¿ãˆ
npm run disaster-recovery:gradual-failback -- --percentage 10
npm run disaster-recovery:gradual-failback -- --percentage 50
npm run disaster-recovery:gradual-failback -- --percentage 100

# 9. DNSåˆ‡ã‚Šæ›¿ãˆ
npm run disaster-recovery:switch-dns -- --target ap-northeast-1

# 10. ãƒ•ã‚§ã‚¤ãƒ«ãƒãƒƒã‚¯å®Œäº†ç¢ºèª
npm run disaster-recovery:verify-failback-completion
```

## ğŸ“‹ ç½å®³å¾©æ—§ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ç½å®³ç™ºç”Ÿæ™‚ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### åˆæœŸå¯¾å¿œï¼ˆ0-30åˆ†ï¼‰
- [ ] ç½å®³ãƒ¬ãƒ™ãƒ«åˆ¤å®šãƒ»å®£è¨€
- [ ] é–¢ä¿‚è€…ã¸ã®ç·Šæ€¥é€šçŸ¥
- [ ] è‡ªå‹•ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼çŠ¶æ…‹ç¢ºèª
- [ ] æ‰‹å‹•ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼åˆ¤æ–­ãƒ»å®Ÿè¡Œ
- [ ] å½±éŸ¿ç¯„å›²ãƒ»è¢«å®³çŠ¶æ³ç¢ºèª

#### å¾©æ—§ä½œæ¥­ï¼ˆ30åˆ†-4æ™‚é–“ï¼‰
- [ ] å¤§é˜ªãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
- [ ] DNSãƒ»ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼åˆ‡ã‚Šæ›¿ãˆ
- [ ] ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºèª
- [ ] ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥ãƒ»ã‚µãƒ¼ãƒ“ã‚¹å†é–‹å®£è¨€

#### å¾©æ—§å¾Œç¢ºèªï¼ˆ4æ™‚é–“-24æ™‚é–“ï¼‰
- [ ] å…¨æ©Ÿèƒ½å‹•ä½œç¢ºèª
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
- [ ] ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¶™ç¶šç¢ºèª
- [ ] ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆãƒ¬ãƒãƒ¼ãƒˆä½œæˆ
- [ ] æ”¹å–„ç‚¹æŠ½å‡ºãƒ»å¯¾ç­–æ¤œè¨

### ãƒ•ã‚§ã‚¤ãƒ«ãƒãƒƒã‚¯æ™‚ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

#### æº–å‚™æ®µéš
- [ ] æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å®Œå…¨å¾©æ—§ç¢ºèª
- [ ] ãƒ‡ãƒ¼ã‚¿åŒæœŸçŠ¶æ…‹ç¢ºèª
- [ ] ãƒ•ã‚§ã‚¤ãƒ«ãƒãƒƒã‚¯è¨ˆç”»ãƒ¬ãƒ“ãƒ¥ãƒ¼
- [ ] é–¢ä¿‚è€…ã¸ã®äº‹å‰é€šçŸ¥

#### å®Ÿè¡Œæ®µéš
- [ ] ãƒ‡ãƒ¼ã‚¿åŒæœŸé–‹å§‹ãƒ»ç›£è¦–
- [ ] æ®µéšçš„ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯åˆ‡ã‚Šæ›¿ãˆ
- [ ] å„æ®µéšã§ã®å‹•ä½œç¢ºèª
- [ ] DNSåˆ‡ã‚Šæ›¿ãˆå®Ÿè¡Œ
- [ ] ãƒ•ã‚§ã‚¤ãƒ«ãƒãƒƒã‚¯å®Œäº†ç¢ºèª

#### å®Œäº†å¾Œ
- [ ] é€šå¸¸é‹ç”¨çŠ¶æ…‹ç¢ºèª
- [ ] ç½å®³å¾©æ—§ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª
- [ ] ãƒ•ã‚§ã‚¤ãƒ«ãƒãƒƒã‚¯ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ
- [ ] æ•™è¨“ãƒ»æ”¹å–„ç‚¹æ•´ç†

## ğŸ“ ç·Šæ€¥é€£çµ¡ä½“åˆ¶

### ç½å®³å¯¾ç­–æœ¬éƒ¨

#### æœ¬éƒ¨é•·
- **æ°å**: [è²¬ä»»è€…å]
- **é€£çµ¡å…ˆ**: +81-XX-XXXX-XXXX
- **Email**: disaster-commander@company.com

#### å‰¯æœ¬éƒ¨é•·
- **æ°å**: [å‰¯è²¬ä»»è€…å]
- **é€£çµ¡å…ˆ**: +81-XX-XXXX-XXXX
- **Email**: disaster-deputy@company.com

### æŠ€è¡“å¯¾å¿œãƒãƒ¼ãƒ 

#### ã‚¤ãƒ³ãƒ•ãƒ©ãƒãƒ¼ãƒ 
- **ãƒªãƒ¼ãƒ€ãƒ¼**: infra-lead@company.com
- **ãƒ¡ãƒ³ãƒãƒ¼**: infra-team@company.com
- **24æ™‚é–“å¯¾å¿œ**: +81-XX-XXXX-XXXX

#### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ãƒ 
- **ãƒªãƒ¼ãƒ€ãƒ¼**: app-lead@company.com
- **ãƒ¡ãƒ³ãƒãƒ¼**: app-team@company.com
- **24æ™‚é–“å¯¾å¿œ**: +81-XX-XXXX-XXXX

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒ¼ãƒ 
- **ãƒªãƒ¼ãƒ€ãƒ¼**: db-lead@company.com
- **ãƒ¡ãƒ³ãƒãƒ¼**: db-team@company.com
- **24æ™‚é–“å¯¾å¿œ**: +81-XX-XXXX-XXXX

### å¤–éƒ¨é€£çµ¡å…ˆ

#### AWSã‚µãƒãƒ¼ãƒˆ
- **Enterprise Support**: 24æ™‚é–“å¯¾å¿œ
- **Technical Account Manager**: tam@aws.com
- **ç·Šæ€¥é€£çµ¡**: AWS Console > Support

#### NetAppã‚µãƒãƒ¼ãƒˆ
- **ã‚µãƒãƒ¼ãƒˆçª“å£**: +81-XX-XXXX-XXXX
- **ç·Šæ€¥å¯¾å¿œ**: netapp-emergency@netapp.com
- **ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚µãƒãƒ¼ãƒˆ**: https://mysupport.netapp.com

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ã‚°ãƒ­ãƒ¼ãƒãƒ«é‹ç”¨ã‚¬ã‚¤ãƒ‰](./global-operations-guide.md)
- [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é‹ç”¨æ‰‹é †æ›¸](./security-operations-guide.md)
- [ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹å¯¾å¿œã‚¬ã‚¤ãƒ‰](./compliance-operations-guide.md)
- [ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](../architecture/disaster-recovery-architecture.md)
- [ãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆ](../architecture/data-replication-design.md)

---

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**æœ€çµ‚æ›´æ–°**: 2024å¹´1æœˆ  
**æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼äºˆå®š**: 2024å¹´4æœˆ  
**æ‰¿èªè€…**: [ç½å®³å¯¾ç­–è²¬ä»»è€…å]