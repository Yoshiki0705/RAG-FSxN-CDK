"use strict";
/**
 * Security Stack
 * セキュリティ統合スタック
 *
 * 統合機能:
 * - 認証、認可、WAF、暗号化
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.SecurityStack = void 0;
const aws_cdk_lib_1 = require("aws-cdk-lib");
class SecurityStack extends aws_cdk_lib_1.Stack {
    userPool;
    identityPool;
    webAcl;
    kmsKey;
    constructor(scope, id, props) {
        super(scope, id, props);
        const { config, projectName, environment } = props;
        // Cognito認証システム作成
        this.createCognitoAuth(config.cognito, projectName, environment);
        // WAF作成
        if (config.waf.enabled) {
            this.createWaf(config.waf, projectName, environment);
        }
        // KMS暗号化キー作成
        this.createKmsKey(config.encryption, projectName, environment);
        // コンプライアンス設定適用
        this.applyComplianceSettings(config.compliance, projectName, environment);
    }
    createCognitoAuth(cognitoConfig, projectName, environment) {
        // TODO: Cognito作成実装
        console.log(`Creating Cognito Auth for ${projectName}-${environment}`);
    }
    createWaf(wafConfig, projectName, environment) {
        // TODO: WAF作成実装
        console.log(`Creating WAF for ${projectName}-${environment}`);
    }
    createKmsKey(encryptionConfig, projectName, environment) {
        // TODO: KMS作成実装
        console.log(`Creating KMS Key for ${projectName}-${environment}`);
    }
    applyComplianceSettings(complianceConfig, projectName, environment) {
        // TODO: コンプライアンス設定実装
        console.log(`Applying compliance settings for ${projectName}-${environment}`, complianceConfig.regulations);
    }
}
exports.SecurityStack = SecurityStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VjdXJpdHktc3RhY2suanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzZWN1cml0eS1zdGFjay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7OztHQU1HOzs7QUFFSCw2Q0FBZ0Q7QUFVaEQsTUFBYSxhQUFjLFNBQVEsbUJBQUs7SUFDdEIsUUFBUSxDQUFPO0lBQ2YsWUFBWSxDQUFPO0lBQ25CLE1BQU0sQ0FBTztJQUNiLE1BQU0sQ0FBTztJQUU3QixZQUFZLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQXlCO1FBQ2pFLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXhCLE1BQU0sRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxHQUFHLEtBQUssQ0FBQztRQUVuRCxrQkFBa0I7UUFDbEIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsV0FBVyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRWpFLFFBQVE7UUFDUixJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUN2RCxDQUFDO1FBRUQsYUFBYTtRQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFFL0QsZUFBZTtRQUNmLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUM1RSxDQUFDO0lBRU8saUJBQWlCLENBQUMsYUFBa0IsRUFBRSxXQUFtQixFQUFFLFdBQW1CO1FBQ3BGLG9CQUFvQjtRQUNwQixPQUFPLENBQUMsR0FBRyxDQUFDLDZCQUE2QixXQUFXLElBQUksV0FBVyxFQUFFLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBRU8sU0FBUyxDQUFDLFNBQWMsRUFBRSxXQUFtQixFQUFFLFdBQW1CO1FBQ3hFLGdCQUFnQjtRQUNoQixPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixXQUFXLElBQUksV0FBVyxFQUFFLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBRU8sWUFBWSxDQUFDLGdCQUFxQixFQUFFLFdBQW1CLEVBQUUsV0FBbUI7UUFDbEYsZ0JBQWdCO1FBQ2hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0JBQXdCLFdBQVcsSUFBSSxXQUFXLEVBQUUsQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFTyx1QkFBdUIsQ0FBQyxnQkFBcUIsRUFBRSxXQUFtQixFQUFFLFdBQW1CO1FBQzdGLHFCQUFxQjtRQUNyQixPQUFPLENBQUMsR0FBRyxDQUFDLG9DQUFvQyxXQUFXLElBQUksV0FBVyxFQUFFLEVBQUUsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDOUcsQ0FBQztDQUNGO0FBN0NELHNDQTZDQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2VjdXJpdHkgU3RhY2tcbiAqIOOCu+OCreODpeODquODhuOCo+e1seWQiOOCueOCv+ODg+OCr1xuICogXG4gKiDntbHlkIjmqZ/og706XG4gKiAtIOiqjeiovOOAgeiqjeWPr+OAgVdBRuOAgeaal+WPt+WMllxuICovXG5cbmltcG9ydCB7IFN0YWNrLCBTdGFja1Byb3BzIH0gZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cyc7XG5pbXBvcnQgeyBTZWN1cml0eUNvbmZpZyB9IGZyb20gJy4uL21vZHVsZXMvc2VjdXJpdHkvaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VjdXJpdHlTdGFja1Byb3BzIGV4dGVuZHMgU3RhY2tQcm9wcyB7XG4gIGNvbmZpZzogU2VjdXJpdHlDb25maWc7XG4gIHByb2plY3ROYW1lOiBzdHJpbmc7XG4gIGVudmlyb25tZW50OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBTZWN1cml0eVN0YWNrIGV4dGVuZHMgU3RhY2sge1xuICBwdWJsaWMgcmVhZG9ubHkgdXNlclBvb2w/OiBhbnk7XG4gIHB1YmxpYyByZWFkb25seSBpZGVudGl0eVBvb2w/OiBhbnk7XG4gIHB1YmxpYyByZWFkb25seSB3ZWJBY2w/OiBhbnk7XG4gIHB1YmxpYyByZWFkb25seSBrbXNLZXk/OiBhbnk7XG5cbiAgY29uc3RydWN0b3Ioc2NvcGU6IENvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IFNlY3VyaXR5U3RhY2tQcm9wcykge1xuICAgIHN1cGVyKHNjb3BlLCBpZCwgcHJvcHMpO1xuXG4gICAgY29uc3QgeyBjb25maWcsIHByb2plY3ROYW1lLCBlbnZpcm9ubWVudCB9ID0gcHJvcHM7XG5cbiAgICAvLyBDb2duaXRv6KqN6Ki844K344K544OG44Og5L2c5oiQXG4gICAgdGhpcy5jcmVhdGVDb2duaXRvQXV0aChjb25maWcuY29nbml0bywgcHJvamVjdE5hbWUsIGVudmlyb25tZW50KTtcblxuICAgIC8vIFdBRuS9nOaIkFxuICAgIGlmIChjb25maWcud2FmLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuY3JlYXRlV2FmKGNvbmZpZy53YWYsIHByb2plY3ROYW1lLCBlbnZpcm9ubWVudCk7XG4gICAgfVxuXG4gICAgLy8gS01T5pqX5Y+35YyW44Kt44O85L2c5oiQXG4gICAgdGhpcy5jcmVhdGVLbXNLZXkoY29uZmlnLmVuY3J5cHRpb24sIHByb2plY3ROYW1lLCBlbnZpcm9ubWVudCk7XG5cbiAgICAvLyDjgrPjg7Pjg5fjg6njgqTjgqLjg7PjgrnoqK3lrprpgannlKhcbiAgICB0aGlzLmFwcGx5Q29tcGxpYW5jZVNldHRpbmdzKGNvbmZpZy5jb21wbGlhbmNlLCBwcm9qZWN0TmFtZSwgZW52aXJvbm1lbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDb2duaXRvQXV0aChjb2duaXRvQ29uZmlnOiBhbnksIHByb2plY3ROYW1lOiBzdHJpbmcsIGVudmlyb25tZW50OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyBUT0RPOiBDb2duaXRv5L2c5oiQ5a6f6KOFXG4gICAgY29uc29sZS5sb2coYENyZWF0aW5nIENvZ25pdG8gQXV0aCBmb3IgJHtwcm9qZWN0TmFtZX0tJHtlbnZpcm9ubWVudH1gKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlV2FmKHdhZkNvbmZpZzogYW55LCBwcm9qZWN0TmFtZTogc3RyaW5nLCBlbnZpcm9ubWVudDogc3RyaW5nKTogdm9pZCB7XG4gICAgLy8gVE9ETzogV0FG5L2c5oiQ5a6f6KOFXG4gICAgY29uc29sZS5sb2coYENyZWF0aW5nIFdBRiBmb3IgJHtwcm9qZWN0TmFtZX0tJHtlbnZpcm9ubWVudH1gKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlS21zS2V5KGVuY3J5cHRpb25Db25maWc6IGFueSwgcHJvamVjdE5hbWU6IHN0cmluZywgZW52aXJvbm1lbnQ6IHN0cmluZyk6IHZvaWQge1xuICAgIC8vIFRPRE86IEtNU+S9nOaIkOWun+ijhVxuICAgIGNvbnNvbGUubG9nKGBDcmVhdGluZyBLTVMgS2V5IGZvciAke3Byb2plY3ROYW1lfS0ke2Vudmlyb25tZW50fWApO1xuICB9XG5cbiAgcHJpdmF0ZSBhcHBseUNvbXBsaWFuY2VTZXR0aW5ncyhjb21wbGlhbmNlQ29uZmlnOiBhbnksIHByb2plY3ROYW1lOiBzdHJpbmcsIGVudmlyb25tZW50OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyBUT0RPOiDjgrPjg7Pjg5fjg6njgqTjgqLjg7PjgrnoqK3lrprlrp/oo4VcbiAgICBjb25zb2xlLmxvZyhgQXBwbHlpbmcgY29tcGxpYW5jZSBzZXR0aW5ncyBmb3IgJHtwcm9qZWN0TmFtZX0tJHtlbnZpcm9ubWVudH1gLCBjb21wbGlhbmNlQ29uZmlnLnJlZ3VsYXRpb25zKTtcbiAgfVxufSJdfQ==