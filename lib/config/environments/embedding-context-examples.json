{
  "description": "Embedding設定のCDKコンテキスト例",
  "examples": {
    "development": {
      "projectName": "permission-aware-rag",
      "environment": "dev",
      "region": "ap-northeast-1",
      "embedding:enableAwsBatch": true,
      "embedding:enableEcsOnEC2": false,
      "embedding:enableSpotFleet": false,
      "embedding:enableMonitoring": true,
      "embedding:enableAutoScaling": false,
      "embedding:instanceTypes": ["m5.large"],
      "embedding:maxvCpus": 500,
      "embedding:minvCpus": 0,
      "embedding:multiAz": false,
      "embedding:batch:namePrefix": "dev-embedding-batch",
      "embedding:batch:imageUri": "123456789012.dkr.ecr.ap-northeast-1.amazonaws.com/embedding-server:dev",
      "embedding:batch:vcpus": 1,
      "embedding:batch:memory": 2048,
      "embedding:batch:timeout": 1800,
      "embedding:batch:useSpotInstances": true,
      "embedding:batch:spotBidPercentage": 50,
      "embedding:fsxFileSystemId": "fs-0123456789abcdef0",
      "embedding:fsxMountPoint": "/mnt/fsx",
      "embedding:fsxReadOnly": true,
      "embedding:openSearch:collectionName": "dev-embedding-collection",
      "embedding:openSearch:indexName": "documents",
      "embedding:openSearch:vectorDimensions": 1536,
      "embedding:logLevel": "DEBUG"
    },
    "production": {
      "projectName": "permission-aware-rag",
      "environment": "prod",
      "region": "ap-northeast-1",
      "embedding:enableAwsBatch": true,
      "embedding:enableEcsOnEC2": true,
      "embedding:enableSpotFleet": false,
      "embedding:enableMonitoring": true,
      "embedding:enableAutoScaling": true,
      "embedding:instanceTypes": ["m5.large", "m5.xlarge", "m5.2xlarge"],
      "embedding:maxvCpus": 2000,
      "embedding:minvCpus": 0,
      "embedding:multiAz": true,
      "embedding:batch:namePrefix": "prod-embedding-batch",
      "embedding:batch:imageUri": "123456789012.dkr.ecr.ap-northeast-1.amazonaws.com/embedding-server:latest",
      "embedding:batch:vcpus": 4,
      "embedding:batch:memory": 8192,
      "embedding:batch:timeout": 3600,
      "embedding:batch:useSpotInstances": false,
      "embedding:batch:retryAttempts": 3,
      "embedding:batch:scaleOutThreshold": 70,
      "embedding:batch:scaleInThreshold": 30,
      "embedding:batch:cooldownPeriod": 300,
      "embedding:jobDefinition:name": "prod-embedding-job-definition",
      "embedding:jobDefinition:cpu": 4,
      "embedding:jobDefinition:memoryMiB": 8192,
      "embedding:jobDefinition:timeoutHours": 1,
      "embedding:jobDefinition:retryAttempts": 3,
      "embedding:jobDefinition:platformCapabilities": ["EC2"],
      "embedding:fsx:fileSystemId": "fs-0123456789abcdef0",
      "embedding:fsx:svmRef": "svm-0123456789abcdef0",
      "embedding:fsx:svmId": "svm-0123456789abcdef0",
      "embedding:fsx:cifsdataVolName": "smb_share",
      "embedding:fsx:ragdbVolPath": "/smb_share/ragdb",
      "embedding:ad:domain": "example.com",
      "embedding:ad:username": "admin",
      "embedding:ad:passwordSecretArn": "arn:aws:secretsmanager:ap-northeast-1:123456789012:secret:ad-password-abc123",
      "embedding:bedrock:region": "us-east-1",
      "embedding:bedrock:modelId": "amazon.titan-embed-text-v1",
      "embedding:ecs:cluster:namePrefix": "prod-embedding-ecs",
      "embedding:ecs:taskDefinition:namePrefix": "prod-embedding-task",
      "embedding:ecs:cpu": "4096",
      "embedding:ecs:memory": "8192",
      "embedding:ecs:container:name": "embedding-container",
      "embedding:ecs:imageUri": "123456789012.dkr.ecr.ap-northeast-1.amazonaws.com/embedding-server:latest",
      "embedding:ecs:service:desiredCount": 2,
      "embedding:ecs:autoScaling:minCapacity": 2,
      "embedding:ecs:autoScaling:maxCapacity": 10,
      "embedding:ecs:autoScaling:targetCpuUtilization": 70,
      "embedding:fsxFileSystemId": "fs-0123456789abcdef0",
      "embedding:fsxMountPoint": "/mnt/fsx",
      "embedding:fsxReadOnly": true,
      "embedding:openSearch:collectionName": "prod-embedding-collection",
      "embedding:openSearch:indexName": "documents",
      "embedding:openSearch:vectorDimensions": 1536,
      "embedding:vpc:existingVpcId": "vpc-0123456789abcdef0",
      "embedding:vpc:privateSubnetIds": [
        "subnet-0123456789abcdef0",
        "subnet-0123456789abcdef1"
      ],
      "embedding:securityGroups:existing": [
        "sg-0123456789abcdef0"
      ],
      "embedding:monitoring:alerts:enabled": true,
      "embedding:monitoring:alerts:snsTopicArn": "arn:aws:sns:ap-northeast-1:123456789012:embedding-alerts",
      "embedding:logLevel": "INFO"
    },
    "multi-module-enabled": {
      "projectName": "permission-aware-rag",
      "environment": "staging",
      "region": "ap-northeast-1",
      "embedding:enableAwsBatch": true,
      "embedding:enableEcsOnEC2": true,
      "embedding:enableSpotFleet": true,
      "embedding:enableMonitoring": true,
      "embedding:enableAutoScaling": true,
      "embedding:instanceTypes": ["m5.large", "m5.xlarge"],
      "embedding:maxvCpus": 1000,
      "embedding:batch:namePrefix": "staging-embedding-batch",
      "embedding:ecs:cluster:namePrefix": "staging-embedding-ecs",
      "embedding:spotFleet:spotPrice": "0.08",
      "embedding:spotFleet:targetCapacity": 4,
      "embedding:spotFleet:autoScaling:minCapacity": 2,
      "embedding:spotFleet:autoScaling:maxCapacity": 8,
      "embedding:monitoring:cloudWatch:createDashboard": true,
      "embedding:monitoring:xray:tracingEnabled": true,
      "embedding:monitoring:logging:structuredLogging": true
    }
  },
  "contextKeys": {
    "core": [
      "projectName",
      "environment", 
      "region"
    ],
    "featureFlags": [
      "embedding:enableAwsBatch",
      "embedding:enableEcsOnEC2", 
      "embedding:enableSpotFleet",
      "embedding:enableMonitoring",
      "embedding:enableAutoScaling"
    ],
    "batchConfig": [
      "embedding:batch:namePrefix",
      "embedding:batch:imageUri",
      "embedding:batch:vcpus",
      "embedding:batch:memory",
      "embedding:batch:timeout",
      "embedding:batch:useSpotInstances",
      "embedding:batch:spotBidPercentage",
      "embedding:batch:retryAttempts",
      "embedding:batch:scaleOutThreshold",
      "embedding:batch:scaleInThreshold",
      "embedding:batch:cooldownPeriod"
    ],
    "jobDefinitionConfig": [
      "embedding:jobDefinition:name",
      "embedding:jobDefinition:cpu",
      "embedding:jobDefinition:memoryMiB",
      "embedding:jobDefinition:timeoutHours",
      "embedding:jobDefinition:retryAttempts",
      "embedding:jobDefinition:platformCapabilities"
    ],
    "fsxIntegrationConfig": [
      "embedding:fsx:fileSystemId",
      "embedding:fsx:svmRef",
      "embedding:fsx:svmId",
      "embedding:fsx:cifsdataVolName",
      "embedding:fsx:ragdbVolPath"
    ],
    "activeDirectoryConfig": [
      "embedding:ad:domain",
      "embedding:ad:username",
      "embedding:ad:passwordSecretArn"
    ],
    "bedrockConfig": [
      "embedding:bedrock:region",
      "embedding:bedrock:modelId"
    ],
    "ecsConfig": [
      "embedding:ecs:cluster:namePrefix",
      "embedding:ecs:taskDefinition:namePrefix",
      "embedding:ecs:cpu",
      "embedding:ecs:memory",
      "embedding:ecs:container:name",
      "embedding:ecs:imageUri",
      "embedding:ecs:service:desiredCount",
      "embedding:ecs:autoScaling:minCapacity",
      "embedding:ecs:autoScaling:maxCapacity",
      "embedding:ecs:autoScaling:targetCpuUtilization"
    ],
    "spotFleetConfig": [
      "embedding:spotFleet:spotPrice",
      "embedding:spotFleet:targetCapacity",
      "embedding:spotFleet:autoScaling:minCapacity",
      "embedding:spotFleet:autoScaling:maxCapacity"
    ],
    "commonResources": [
      "embedding:fsxFileSystemId",
      "embedding:fsxMountPoint",
      "embedding:fsxReadOnly",
      "embedding:openSearch:collectionName",
      "embedding:openSearch:indexName",
      "embedding:openSearch:vectorDimensions",
      "embedding:vpc:existingVpcId",
      "embedding:vpc:privateSubnetIds",
      "embedding:securityGroups:existing"
    ],
    "monitoring": [
      "embedding:monitoring:alerts:enabled",
      "embedding:monitoring:alerts:snsTopicArn",
      "embedding:monitoring:cloudWatch:createDashboard",
      "embedding:monitoring:xray:tracingEnabled",
      "embedding:monitoring:logging:structuredLogging",
      "embedding:logLevel"
    ]
  }
}