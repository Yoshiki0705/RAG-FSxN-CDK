# Chatbot UI AIçµ±åˆãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ

NetApp Japanå‘ã‘ã®Chatbot UIã‚·ã‚¹ãƒ†ãƒ ã®åŒ…æ‹¬çš„ãªçµ±åˆãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã§ã™ã€‚

## ğŸ¯ æ¦‚è¦

ã“ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã¯ã€Permission-aware RAG System with FSx for NetApp ONTAPã®Chatbot UIæ©Ÿèƒ½ã‚’åŒ…æ‹¬çš„ã«ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚

### ãƒ†ã‚¹ãƒˆå¯¾è±¡æ©Ÿèƒ½

- **UIæ©Ÿèƒ½**: ãƒãƒ£ãƒƒãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- **AIå¿œç­”ç”Ÿæˆ**: Amazon Bedrockçµ±åˆã€æ—¥æœ¬èªå“è³ªã€ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¿œç­”ã€Novaçµ±åˆ
- **RAGæ©Ÿèƒ½**: ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆçµ±åˆã€Nova RAGçµ±åˆ
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: SIDãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã€èªè¨¼ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- **ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³**: è¤‡æ•°AWSãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®å‹•ä½œç¢ºèª

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

- Node.js 18.0.0ä»¥ä¸Š
- npm 8.0.0ä»¥ä¸Š
- AWS CLIè¨­å®šæ¸ˆã¿
- é©åˆ‡ãªIAMæ¨©é™

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# å¿…è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ
npm run setup
```

### åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test:all

# ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test:ui          # UIãƒ†ã‚¹ãƒˆã®ã¿
npm run test:ai          # AIãƒ†ã‚¹ãƒˆã®ã¿
npm run test:rag         # RAGãƒ†ã‚¹ãƒˆã®ã¿
npm run test:security    # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã®ã¿
npm run test:nova        # Novaçµ±åˆãƒ†ã‚¹ãƒˆã®ã¿
npm run test:multiregion # ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®ã¿
```

### ç’°å¢ƒåˆ¥å®Ÿè¡Œ

```bash
# ç’°å¢ƒåˆ¥å®Ÿè¡Œ
npm run test:dev         # é–‹ç™ºç’°å¢ƒ
npm run test:staging     # ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒ
npm run test:prod        # æœ¬ç•ªç’°å¢ƒ
```

### ãƒªãƒ¼ã‚¸ãƒ§ãƒ³åˆ¥å®Ÿè¡Œ

```bash
# ãƒªãƒ¼ã‚¸ãƒ§ãƒ³åˆ¥å®Ÿè¡Œ
npm run test:tokyo       # æ±äº¬ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (ap-northeast-1)
npm run test:osaka       # å¤§é˜ªãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (ap-northeast-3)
npm run test:virginia    # ãƒãƒ¼ã‚¸ãƒ‹ã‚¢ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (us-east-1)
npm run test:ireland     # ã‚¢ã‚¤ãƒ«ãƒ©ãƒ³ãƒ‰ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ (eu-west-1)
```

### ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

```bash
# JSON + HTMLãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
npm run test:report

# è©³ç´°ãƒ­ã‚°ä»˜ãå®Ÿè¡Œ
npm run test:verbose

# æœ€å°é™ã®ãƒ­ã‚°ã§å®Ÿè¡Œ
npm run test:quiet
```

## ğŸ“‹ ãƒ†ã‚¹ãƒˆæ§‹æˆ

### Phase 1: UIæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
- **ãƒãƒ£ãƒƒãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ** (`ui/chat-interface-tests.ts`)
  - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ãƒ»å—ä¿¡
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£

- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ** (`ui/responsive-design-tests.ts`)
  - è¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œ
  - ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ
  - ã‚¿ãƒƒãƒæ“ä½œ
  - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

### Phase 2: AIå¿œç­”ç”Ÿæˆãƒ†ã‚¹ãƒˆ
- **Bedrockçµ±åˆãƒ†ã‚¹ãƒˆ** (`ai/bedrock-integration-tests.ts`)
  - ãƒ¢ãƒ‡ãƒ«æ¥ç¶š
  - APIå‘¼ã³å‡ºã—
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- **æ—¥æœ¬èªå¿œç­”å“è³ªãƒ†ã‚¹ãƒˆ** (`ai/japanese-response-tests.ts`)
  - æ–‡æ³•æ­£ç¢ºæ€§
  - è‡ªç„¶ã•
  - æ–‡è„ˆç†è§£
  - å°‚é–€ç”¨èª

- **ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¿œç­”ãƒ†ã‚¹ãƒˆ** (`ai/streaming-response-tests.ts`)
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é…ä¿¡
  - æ¥ç¶šå®‰å®šæ€§
  - ã‚¨ãƒ©ãƒ¼å‡¦ç†
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- **Novaãƒ¢ãƒ‡ãƒ«ãƒ†ã‚¹ãƒˆ** (`ai/nova-model-tests.ts`)
  - Nova Micro/Lite/Pro
  - ãƒ¢ãƒ‡ãƒ«åˆ‡ã‚Šæ›¿ãˆ
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ
  - ã‚³ã‚¹ãƒˆåŠ¹ç‡

- **Novaã‚¯ãƒ¬ã‚¸ãƒƒãƒˆæœ€é©åŒ–ãƒ†ã‚¹ãƒˆ** (`ai/nova-credit-optimization-tests.ts`)
  - ä½¿ç”¨é‡ç›£è¦–
  - æœ€é©åŒ–æˆ¦ç•¥
  - ã‚³ã‚¹ãƒˆç®¡ç†
  - ã‚¢ãƒ©ãƒ¼ãƒˆ

### Phase 3: RAGæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
- **ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ãƒ†ã‚¹ãƒˆ** (`rag/vector-search-tests.ts`)
  - åŸ‹ã‚è¾¼ã¿ç”Ÿæˆ
  - é¡ä¼¼åº¦æ¤œç´¢
  - æ¤œç´¢ç²¾åº¦
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆçµ±åˆãƒ†ã‚¹ãƒˆ** (`rag/context-integration-tests.ts`)
  - æ–‡æ›¸çµ±åˆ
  - é–¢é€£æ€§è©•ä¾¡
  - å¿œç­”å“è³ª
  - ä¸€è²«æ€§

- **Nova RAGçµ±åˆãƒ†ã‚¹ãƒˆ** (`rag/nova-rag-integration-tests.ts`)
  - Nova + RAGçµ±åˆ
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
  - å“è³ªå‘ä¸Š
  - ã‚³ã‚¹ãƒˆåŠ¹ç‡

### Phase 4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
- **SIDãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ãƒ†ã‚¹ãƒˆ** (`security/sid-access-control-tests.ts`)
  - SIDå–å¾—ãƒ»æ¤œè¨¼
  - æ¨©é™ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  - ã‚°ãƒ«ãƒ¼ãƒ—æ¨©é™
  - éšå±¤æ¨©é™

- **èªè¨¼ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ†ã‚¹ãƒˆ** (`security/auth-session-tests.ts`)
  - JWTèªè¨¼
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
  - ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°
  - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼

### Phase 5: ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
- **ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼** (`scripts/run-multi-region-tests.ts`)
  - è¤‡æ•°ãƒªãƒ¼ã‚¸ãƒ§ãƒ³å®Ÿè¡Œ
  - ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·æ¸¬å®š
  - å¯ç”¨æ€§ç¢ºèª
  - ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§

## âš™ï¸ è¨­å®š

### ç’°å¢ƒå¤‰æ•°

```bash
# AWSè¨­å®š
AWS_REGION=ap-northeast-1
AWS_PROFILE=user01

# ãƒ†ã‚¹ãƒˆè¨­å®š
NODE_ENV=development
LOG_LEVEL=info

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
JWT_SECRET=your-jwt-secret-key
```

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

ãƒ†ã‚¹ãƒˆè¨­å®šã¯ `config/test-config-manager.ts` ã§ç®¡ç†ã•ã‚Œã¾ã™ã€‚

```typescript
// ã‚«ã‚¹ã‚¿ãƒ è¨­å®šä¾‹
const customConfig = {
  environment: 'staging',
  aws: {
    region: 'ap-northeast-1',
    profile: 'staging-profile'
  },
  ui: {
    baseUrl: 'https://staging.example.com',
    timeout: 30000
  },
  ai: {
    models: ['nova-micro', 'nova-lite'],
    maxTokens: 4000
  }
};
```

## ğŸ“Š ãƒ†ã‚¹ãƒˆçµæœ

### å‡ºåŠ›å½¢å¼

- **ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—è¡¨ç¤º
- **JSONå‡ºåŠ›**: æ©Ÿæ¢°å¯èª­å½¢å¼ (`results/test-results.json`)
- **HTMLãƒ¬ãƒãƒ¼ãƒˆ**: äººé–“å¯èª­å½¢å¼ (`results/test-report.html`)

### æˆåŠŸåŸºæº–

- **UIæ©Ÿèƒ½**: 95%ä»¥ä¸Šã®æˆåŠŸç‡
- **AIå¿œç­”**: 90%ä»¥ä¸Šã®å“è³ªã‚¹ã‚³ã‚¢
- **RAGæ©Ÿèƒ½**: 85%ä»¥ä¸Šã®æ¤œç´¢ç²¾åº¦
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: 100%ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆæˆåŠŸ
- **ãƒãƒ«ãƒãƒªãƒ¼ã‚¸ãƒ§ãƒ³**: å…¨ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§ã®æ­£å¸¸å‹•ä½œ

## ğŸ”§ é–‹ç™ºãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### æ–°ã—ã„ãƒ†ã‚¹ãƒˆã®è¿½åŠ 

1. é©åˆ‡ãªã‚«ãƒ†ã‚´ãƒªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
2. `TestResult`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«æº–æ‹ 
3. ãƒ¡ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ã«çµ±åˆ

```typescript
// ä¾‹: æ–°ã—ã„UIãƒ†ã‚¹ãƒˆ
export class NewUITests {
  async runAllTests(): Promise<TestResult[]> {
    // ãƒ†ã‚¹ãƒˆå®Ÿè£…
  }
}
```

### ã‚«ã‚¹ã‚¿ãƒ è¨­å®šã®è¿½åŠ 

```typescript
// config/test-config-manager.ts
interface CustomTestConfiguration extends TestConfiguration {
  customFeature: {
    enabled: boolean;
    settings: Record<string, any>;
  };
}
```

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### AWSèªè¨¼ã‚¨ãƒ©ãƒ¼
```bash
# AWSèªè¨¼æƒ…å ±ã®ç¢ºèª
aws configure list --profile user01

# æ¨©é™ã®ç¢ºèª
aws sts get-caller-identity --profile user01
```

#### Node.jsä¾å­˜é–¢ä¿‚ã‚¨ãƒ©ãƒ¼
```bash
# ä¾å­˜é–¢ä¿‚ã®å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
rm -rf node_modules package-lock.json
npm install
```

#### ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
```bash
# ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå€¤ã‚’å¢—åŠ 
npm run test:all -- --timeout 60000
```

### ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«èª¿æ•´

```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°æœ‰åŠ¹åŒ–
npm run test:verbose

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ã¿
npm run test:quiet
```

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [è¨­è¨ˆæ›¸](.kiro/specs/chatbot-ui-ai-integration-test/design.md)
- [è¦ä»¶å®šç¾©](.kiro/specs/chatbot-ui-ai-integration-test/requirements.md)
- [ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ](.kiro/specs/chatbot-ui-ai-integration-test/tasks.md)
- [ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ](../../README.md)

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
2. ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ãƒ»ä¿®æ­£
3. ãƒªãƒ³ãƒˆã¨ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
4. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

```bash
# é–‹ç™ºç”¨ã‚³ãƒãƒ³ãƒ‰
npm run lint          # ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
npm run lint:fix      # è‡ªå‹•ä¿®æ­£
npm run build         # TypeScriptãƒ“ãƒ«ãƒ‰
npm run clean         # ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
```

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯ [LICENSE](../../LICENSE) ã‚’å‚ç…§

## ğŸ‘¥ ä½œæˆè€…

NetApp Japan Technology Team

---

**ğŸ¯ ã“ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã«ã‚ˆã‚Šã€ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚°ãƒ¬ãƒ¼ãƒ‰ã®Chatbot UIã‚·ã‚¹ãƒ†ãƒ ã®å“è³ªã‚’ä¿è¨¼ã—ã¾ã™ã€‚**